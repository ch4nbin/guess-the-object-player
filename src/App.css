:root {
  /* Color scheme */
  --dark-blue: #064789;
  --neutral-blue: #427aa1;
  --light-blue: #ebf2fa;

  /* Semantic aliases (used throughout the app) */
  --bg: var(--neutral-blue);
  --card: var(--dark-blue);
  --border: rgba(6, 71, 137, 0.18);

  --text-primary: #064789;
  --text-secondary: #427aa1;

  --font-main: 'Press Start 2P', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;

  --arcade-bg: #021b35;        /* deep blue background */
  --frame: #064789;            /* dark blue */
  --frame2: #427aa1;           /* neutral blue */
  --panel: #0b2f57;            /* panel fill */
  --text: #ebf2fa;             /* light blue text */
  --shine: rgba(235,242,250,0.25);
  --shadow: rgba(0,0,0,0.55);
}

body {
  margin: 0;
  font-family: var(--font-main);
  background: var(--arcade-bg);
}

.page {
  height: 100vh;
  display: grid;
  grid-template-columns: 2.0fr 1fr;
  gap: 18px;
  padding: 18px;
  box-sizing: border-box;
  align-items: start; /* ✅ prevents vertical stretching shifts */
}

.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(6, 71, 137, 0.15);
  padding: 14px;
  overflow: hidden;
}

.left.card {
  position: relative;
  top: 40px;
  left: 10px;
  height: fit-content; /* 18px padding top + bottom */
  align-self: start;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* When arcadeFrame is applied, disable the soft card styling */
.left.card.arcadeFrame {
  border-radius: 0 !important;
  border: none !important;
  background: linear-gradient(180deg, var(--panel), #072544) !important;
  box-shadow:
    0 18px 0 rgba(0,0,0,0.25),
    0 22px 50px var(--shadow) !important;
}

.left.card table {
  table-layout: fixed;  /* ✅ prevents columns from resizing */
  width: 100%;
}

.left.card thead th,
.left.card tbody td {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;  /* ✅ prevents multi-line growth */
}

.left.card tbody td:nth-child(1),
.left.card thead th:nth-child(1) {
  white-space: normal !important;   /* allow wrap */
  overflow: visible !important;     /* don't hide overflow */
  text-overflow: clip !important;   /* disable ellipsis behavior */
  word-break: break-word;
  line-height: 1.25;
}

/* If the Name is inside a badge, allow that badge to wrap */
.left.card td:nth-child(1) .badge {
  white-space: normal !important;
  max-width: 100%;
}

.right {
  height: calc(100vh - 36px);
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

h2 {
  margin: 0 0 10px 0;
  font-size: 16px;
  font-weight: 800;
  color: var(--light-blue);
}

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
  color: var(--light-blue);
}

thead th {
  text-align: left;
  font-size: 12px;
  color: var(--light-blue);
  font-weight: 800;
  padding: 10px 8px;
  border-bottom: 1px solid rgba(0,0,0,0.08);
  white-space: nowrap;
}

tbody td {
  padding: 25px 8px;
  border-bottom: 1px solid rgba(235,242,250,0.14); 
  vertical-align: middle;
}

tbody tr:last-child td {
  border-bottom: none;
}

.empty {
  color: #999;
  font-style: italic;
}

.rightTop {
  position: absolute;
  top: 520px;
  left: 1055px;
  display: grid;
  gap: 8px;
  align-content: start;
}

input {
  width: 100%;
  max-width: none;
  padding: 10px 12px;
  font-size: 15px;
  border-radius: 12px;
  border: 1px solid rgba(6, 71, 137, 0.35);
  color: var(--text-primary);
  outline: none;
  background: var(--light-blue);
  box-shadow: 0 12px 34px rgba(0,0,0,0.10);
}

input:focus {
  border-color: rgba(59,130,246,0.7);
  box-shadow: 0 12px 34px rgba(59,130,246,0.16);
}

input::placeholder {
  color: var(--text-secondary);
}

.inputError {
  border-color: rgba(239,68,68,0.6) !important;
  box-shadow: 0 12px 34px rgba(239,68,68,0.18) !important;
}

.inputError::placeholder {
  color: rgba(185, 28, 28, 0.85);
  font-weight: 700;
}

.helper {
  max-width: 420px;
  font-size: 12px;
  color: #444;
  min-height: 16px;
}

.playAgain {
  position: absolute;
  top: 65px;
  right: 33px;
  max-width: 300px;
  padding: 12px 16px;

  font-weight: 700;
  cursor: pointer;

  /* ✅ arcade button look */
  border-radius: 0 !important;
  border: 2px solid rgba(235,242,250,0.22);
  background: linear-gradient(180deg, var(--neutral-blue), var(--dark-blue));
  color: var(--light-blue);

  box-shadow:
    0 8px 0 rgba(0,0,0,0.35),
    0 16px 35px rgba(0,0,0,0.35);

  transform: translateY(0);
  transition: transform 90ms ease, box-shadow 90ms ease, filter 90ms ease;
}

.playAgain:hover {
  filter: brightness(1.08);
}

.playAgain:active {
  transform: translateY(6px);
  box-shadow:
    0 2px 0 rgba(0,0,0,0.35),
    0 10px 22px rgba(0,0,0,0.35);
}

.phaserWrap {
  position: absolute;
  top: 140px;
  left: 1075px;
  width: 350px;
  height: 350px;

  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: none;

  /* ✅ arcade frame look */
  border-radius: 0 !important;
  background: linear-gradient(180deg, var(--panel), #072544);
  border: 2px solid rgba(235,242,250,0.22);
  box-shadow:
    0 16px 0 rgba(0,0,0,0.25),
    0 22px 50px var(--shadow);

  overflow: hidden; /* keep blur clipped */
}

.phaserWrap::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  box-shadow:
    inset 2px 2px 0 rgba(235,242,250,0.18),
    inset -2px -2px 0 rgba(0,0,0,0.35),
    inset 0 0 0 2px rgba(6,71,137,0.55);
  z-index: 2; /* frame overlay */
}

.phaserWrap canvas {
  position: relative;
  z-index: 1;
  display: block;
  width: 100% !important;
  height: 100% !important;
  border: 0;
  outline: 0;
  will-change: filter;
}

/* React controls this value via a CSS variable */
.phaserWrap > div {
  --blurPx: 24px; /* default blur on first load */
}

/* Always blur the Phaser canvas based on the variable */
.phaserWrap > div canvas {
  filter: blur(var(--blurPx));
}

.winBanner {
  position: absolute;
  top: 25px;
  right: -15px;
  width: 420px;
  padding: 14px 16px;

  /* ✅ hard corners + arcade frame */
  border-radius: 0 !important;
  background: linear-gradient(180deg, var(--neutral-blue), var(--dark-blue));
  border: 2px solid rgba(235,242,250,0.22);
  color: var(--light-blue);

  box-shadow:
    0 14px 0 rgba(0,0,0,0.25),
    0 22px 50px var(--shadow);

  font-size: 20px;
  font-weight: 900;
  z-index: 60;

  animation: winBannerSlideIn 700ms cubic-bezier(.2,.9,.2,1) both;
  overflow: hidden;
}

.winBanner::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  box-shadow:
    inset 2px 2px 0 rgba(235,242,250,0.18),
    inset -2px -2px 0 rgba(0,0,0,0.35);
}

@keyframes winBannerSlideIn {
  0%   { opacity: 0; transform: translateX(160px); }
  70%  { opacity: 1; transform: translateX(-6px); }
  100% { opacity: 1; transform: translateX(0); }
}

/* badges */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 999px;
  font-weight: 800;
  line-height: 1;
  white-space: nowrap;
}
.badge .icon {
  width: 14px;
  display: inline-block;
  text-align: center;
}

/* Correct match — brighter green, higher contrast */
.ok {
  background: #d1fae5;          /* light mint */
  color: #065f46;               /* deep green */
  border: 1px solid #34d399;    /* vivid green */
}

/* Incorrect match — softer red, still strong */
.no {
  background: #fee2e2;          /* light rose */
  color: #7f1d1d;               /* deep red */
  border: 1px solid #f87171;    /* readable red */
}

/* Higher — cyan/blue that contrasts with dark blue */
.up {
  background: #e0f2fe;          /* light sky */
  color: #075985;               /* deep cyan-blue */
  border: 1px solid #38bdf8;    /* bright sky blue */
}

/* Lower — indigo-violet that doesn’t blend into background */
.down {
  background: #ede9fe;          /* soft lavender */
  color: #4c1d95;               /* deep indigo */
  border: 1px solid #8b5cf6;    /* vivid violet */
}

/* Neutral — light gray that stays visible */
.neutral {
  background: #f1f5f9;          /* cool gray */
  color: #334155;               /* slate */
  border: 1px solid #cbd5e1;
}

.autoWrap {
  position: relative;     /* anchor dropdown to input */
  width: 365px;           /* match portrait/input width */
}

.suggestions {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  right: 0;
  background: var(--light-blue);
  border: 1px solid rgba(0,0,0,0.12);
  border-radius: 12px;
  box-shadow: 0 12px 34px rgba(0,0,0,0.14);
  overflow: hidden;
  z-index: 1000;          /* above canvas */
  max-height: calc(5 * 36px);
  overflow-y: auto;
}

.suggestionItem {
  padding: 10px 12px;
  cursor: pointer;
  font-size: 10px;
  font-weight: 700;
  color: var(--dark-blue);
}

.suggestionItem:hover,
.suggestionItem.active {
  background: var(--dark-blue); /* uses your neutral blue vibe */
  color: var(--light-blue);
}

.guessRow.isNew {
  /* row reveal + shine sweep together */
  animation:
    rowReveal 260ms ease-out both,
    sweepBg 1200ms ease-out both;

  /* Shine sweep as a moving background (safe for table layout) */
  background-image: linear-gradient(
    90deg,
    transparent 0%,
    transparent 42%,
    rgba(255, 255, 255, 0.22) 50%,
    transparent 58%,
    transparent 100%
  );
  background-repeat: no-repeat;
  background-size: 220% 100%;
  background-position: 160% 0;
}

@keyframes rowReveal {
  from {
    opacity: 0;
    transform: translateY(8px);
    filter: blur(1px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}

@keyframes sweepBg {
  to {
    background-position: -160% 0;
  }
}

/* All badges in a newly added row pop in */
.guessRow.isNew .badgeAnim {
  opacity: 0;
  transform: translateY(6px) scale(0.96);
  animation: badgePop 280ms cubic-bezier(.2,.9,.2,1) both;
}

/* Stagger across columns (adjust nth-child indices if your table differs) */
.guessRow.isNew td:nth-child(1) .badgeAnim { animation-delay: 0ms; }
.guessRow.isNew td:nth-child(2) .badgeAnim { animation-delay: 80ms; }
.guessRow.isNew td:nth-child(3) .badgeAnim { animation-delay: 160ms; }
.guessRow.isNew td:nth-child(4) .badgeAnim { animation-delay: 240ms; }
.guessRow.isNew td:nth-child(5) .badgeAnim { animation-delay: 320ms; }
.guessRow.isNew td:nth-child(6) .badgeAnim { animation-delay: 400ms; }

@keyframes badgePop {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.94);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Arcade cabinet frame effect */
.arcadeFrame {
  border-radius: 0 !important;               /* ✅ hard corners */
  background: linear-gradient(180deg, var(--panel), #072544);
  border: 2px solid rgba(235,242,250,0.22);

  /* outer shadow for depth */
  box-shadow:
    0 18px 0 rgba(0,0,0,0.25),               /* fake “ledge” */
    0 22px 50px var(--shadow);

  position: relative;
  overflow: hidden;                          /* keeps frame crisp */
}

/* inner bevel highlight + inset shadow */
.arcadeFrame::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;

  box-shadow:
    inset 2px 2px 0 rgba(235,242,250,0.18),  /* top-left highlight */
    inset -2px -2px 0 rgba(0,0,0,0.35),      /* bottom-right shadow */
    inset 0 0 0 2px rgba(6,71,137,0.55);     /* inner frame */
}

/* subtle scanline texture (optional but arcade-y) */
.arcadeFrame::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03),
    rgba(255,255,255,0.03) 1px,
    transparent 1px,
    transparent 5px
  );
  opacity: 0.35;
}

/* Puts content above the arcadeFrame overlays (::before/::after) */
.arcadeContent {
  position: relative;
  z-index: 2;
}

/* Arcade button feel (hard corners + press-in depth) */
.arcadeButton {
  border-radius: 0 !important;
  border: 2px solid rgba(235,242,250,0.22) !important;
  background: linear-gradient(180deg, var(--neutral-blue), var(--dark-blue)) !important;
  color: var(--light-blue) !important;

  box-shadow:
    0 8px 0 rgba(0,0,0,0.35),
    0 16px 35px rgba(0,0,0,0.35) !important;

  transform: translateY(0);
  transition: transform 90ms ease, box-shadow 90ms ease, filter 90ms ease;
}

.arcadeButton:hover {
  filter: brightness(1.08);
}

.arcadeButton:active {
  transform: translateY(6px);
  box-shadow:
    0 2px 0 rgba(0,0,0,0.35),
    0 10px 22px rgba(0,0,0,0.35) !important;
}

.stopwatch {
  position: absolute;          /* easy to place; change to absolute if preferred */
  bottom: 40px;                /* adjust */
  right: 177px;             /* adjust */
  width: 140px;

  padding: 12px 14px;
  text-align: center;

  /* arcade panel styling */
  background: var(--card);
  border: 2px solid rgba(235,242,250,0.22);
  box-shadow:
    0 18px 0 rgba(0,0,0,0.25),
    0 22px 50px var(--shadow);
  color: var(--light-blue);

  border-radius: 0;         /* hard corners for arcade look */
  font-size: 16px;
  letter-spacing: 1px;
  font-weight: 800;

  /* optional: digital glow */
  text-shadow: 0 0 10px rgba(235,242,250,0.25);
}

.timeToggle {
  position: absolute;
  bottom: 105px;
  right: 208px;
  max-width: 300px;
  padding: 8px 8px;
  font-size: 10px;

  font-weight: 700;
  cursor: pointer;

  /* ✅ arcade button look */
  border-radius: 0 !important;
  border: 2px solid rgba(235,242,250,0.22);
  background: linear-gradient(180deg, var(--neutral-blue), var(--dark-blue));
  color: var(--light-blue);

  box-shadow:
    0 8px 0 rgba(0,0,0,0.35),
    0 16px 35px rgba(0,0,0,0.35);

  transform: translateY(0);
  transition: transform 90ms ease, box-shadow 90ms ease, filter 90ms ease;
}

.timeToggle:hover {
  filter: brightness(1.08);
}

.timeToggle:active {
  transform: translateY(6px);
  box-shadow:
    0 2px 0 rgba(0,0,0,0.35),
    0 10px 22px rgba(0,0,0,0.35);
}

.witLogo {
  position: absolute;        /* stays put, never shifts */
  bottom: -15px;              /* adjust as needed */
  right: 15px;             /* top-left corner */
  width: 120px;           /* scale logo */
  height: auto;

  z-index: 0;          
  opacity: 0.95;          /* slightly subtle */
  image-rendering: crisp-edges; /* arcade-friendly */
}

.gameOverOverlay {
  position: fixed;
  inset: 0;
  z-index: 60;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  background:
    radial-gradient(circle at 20% 20%, rgba(235,242,250,0.22), transparent 45%),
    linear-gradient(160deg, rgba(6,71,137,0.96), rgba(2,27,53,0.98));
}

.startScreenOverlay {
  position: fixed;
  inset: 0;
  z-index: 70;
  background:
    radial-gradient(circle at 20% 20%, rgba(235,242,250,0.18), transparent 45%),
    linear-gradient(160deg, rgba(6,71,137,0.96), rgba(2,27,53,0.98));
}

.startScreenOverlay canvas {
  width: 100% !important;
  height: 100% !important;
  display: block;
}

.gameOverCard {
  width: min(980px, 95vw);
  background: linear-gradient(180deg, var(--panel), #072544);
  border: 2px solid rgba(235,242,250,0.22);
  box-shadow:
    0 18px 0 rgba(0,0,0,0.3),
    0 26px 50px rgba(0,0,0,0.45);
  padding: 24px;
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  gap: 20px;
}

.gameOverLeft,
.gameOverRight {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.resultPill {
  align-self: flex-start;
  padding: 6px 10px;
  font-size: 10px;
  letter-spacing: 1px;
  text-transform: uppercase;
  border: 1px solid rgba(235,242,250,0.35);
}

.resultPill.win {
  background: rgba(34,197,94,0.2);
  color: #d1fae5;
}

.resultPill.loss {
  background: rgba(239,68,68,0.2);
  color: #fee2e2;
}

.gameOverTitle {
  margin: 0;
  font-size: 22px;
  color: var(--light-blue);
}

.gameOverSubtitle {
  margin: 0;
  font-size: 12px;
  color: rgba(235,242,250,0.85);
}

.playerReveal {
  background: rgba(2,27,53,0.55);
  border: 1px solid rgba(235,242,250,0.18);
  padding: 14px;
}

.playerLabel {
  font-size: 9px;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: rgba(235,242,250,0.7);
}

.playerName {
  font-size: 16px;
  color: var(--light-blue);
  margin-top: 6px;
}

.playerMeta {
  font-size: 10px;
  color: rgba(235,242,250,0.8);
  margin-top: 6px;
}

.runStats {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.runStat {
  background: rgba(2,27,53,0.6);
  border: 1px solid rgba(235,242,250,0.18);
  padding: 10px;
}

.runStatLabel {
  display: block;
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: rgba(235,242,250,0.7);
  margin-bottom: 6px;
}

.runStatValue {
  font-size: 14px;
  color: var(--light-blue);
}

.gameOverActions {
  display: flex;
  gap: 10px;
}

.gameOverButton {
  font-family: var(--font-main);
  border-radius: 0;
  border: 2px solid rgba(235,242,250,0.22);
  background: rgba(2,27,53,0.8);
  color: var(--light-blue);
  padding: 12px 16px;
  box-shadow:
    0 8px 0 rgba(0,0,0,0.35),
    0 16px 30px rgba(0,0,0,0.35);
  transition: transform 90ms ease, box-shadow 90ms ease, filter 90ms ease;
  cursor: pointer;
}

.gameOverButton:hover {
  filter: brightness(1.08);
}

.gameOverButton:active {
  transform: translateY(6px);
  box-shadow:
    0 2px 0 rgba(0,0,0,0.35),
    0 10px 22px rgba(0,0,0,0.35);
}

.gameOverButton.primary {
  background: linear-gradient(180deg, var(--neutral-blue), var(--dark-blue));
}

.leaderboardHeader {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 8px;
}

.leaderboardTitle {
  margin: 0;
  font-size: 14px;
  color: var(--light-blue);
}

.leaderboardHint {
  font-size: 9px;
  color: rgba(235,242,250,0.7);
}

.leaderboardState {
  font-size: 11px;
  color: rgba(235,242,250,0.85);
  padding: 10px 0;
}

.leaderboardList {
  display: grid;
  gap: 8px;
}

.leaderboardRow {
  display: grid;
  grid-template-columns: 42px 1fr 80px 90px;
  align-items: center;
  padding: 10px 12px;
  background: rgba(2,27,53,0.55);
  border: 1px solid rgba(235,242,250,0.18);
  font-size: 10px;
  color: var(--light-blue);
}

.leaderboardRank {
  color: rgba(235,242,250,0.7);
}

.leaderboardScore,
.leaderboardTime {
  text-align: right;
  color: rgba(235,242,250,0.85);
}

@media (max-width: 920px) {
  .gameOverCard {
    grid-template-columns: 1fr;
  }

  .gameOverOverlay {
    align-items: flex-start;
  }
}
